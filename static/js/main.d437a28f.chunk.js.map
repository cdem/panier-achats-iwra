{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Accueil.jsx","Contact.jsx","Apropos.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","PiedDePage.jsx","ConteneurGlobal.jsx","index.jsx"],"names":["SommairePanier","props","info","objetPanier","objetInfo","articlesDiff","nbArticlesTotal","sousTotal","tps","tvq","total","articles","Object","values","length","reduce","acc","article","qte","prix","toFixed","calculerInfoPanier","panier","className","Entete","etatPanier","to","activeClassName","Badge","badgeContent","color","Accueil","Contact","Apropos","BtnAjoutPanier","onClick","texte","classeCss","Produit","id","nom","setPanier","qteArticlePanier","texteBtnAjout","src","alt","ListeProduits","tabProduits","map","unProd","PiedDePage","annee","Date","getFullYear","ConteneurGlobal","useState","window","localStorage","getItem","JSON","parse","useEffect","setItem","stringify","path","exact","baseName","location","hostname","search","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.d437a28f.chunk.js","sourcesContent":["import \"./SommairePanier.scss\";\r\n\r\nexport default function SommairePanier(props) {\r\n  const info = calculerInfoPanier(props.panier);\r\n  return (\r\n    <div className=\"SommairePanier\">\r\n      <span>Articles différents : {info.articlesDiff}</span>\r\n      <span>Nombre articles total : {info.nbArticlesTotal}</span>\r\n      <span>Sous-total : {info.sousTotal}</span>\r\n      <span>TPS : {info.tps}</span>\r\n      <span>TVQ : {info.tvq}</span>\r\n      <span>Total : {info.total}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\n/**\r\n * Calcule les valeurs nécéssaire à l'affichage du sommaire du panier\r\n * \r\n * @param {object} objetPanier Objet contenant le détail du panier \r\n * \r\n * @returns {object} Objet contenant toutes les valeurs requises\r\n */\r\nfunction calculerInfoPanier(objetPanier) {\r\n  // Objet contenant les valeurs à calculer\r\n  const objetInfo = {\r\n    articlesDiff: 0,\r\n    nbArticlesTotal: 0,\r\n    sousTotal: 0,\r\n    tps: 0,\r\n    tvq: 0,\r\n    total: 0\r\n  }\r\n\r\n  // Extraire le tableau des valeurs de l'objet contenant le panier\r\n  const articles = Object.values(objetPanier);\r\n\r\n  // Nombre d'articles différents\r\n  objetInfo.articlesDiff = articles.length;\r\n\r\n  // Nombre d'articles total\r\n  objetInfo.nbArticlesTotal = articles.reduce((acc, article) => acc + article.qte, 0);\r\n\r\n  // Remarquez que pour les 3 valeurs suivantes les valeurs calculées sont séparées des valeurs formatées\r\n  \r\n  // Sous-total du panier \r\n  const sousTotal = articles.reduce((acc, article) => acc + (article.qte * article.prix), 0);\r\n  objetInfo.sousTotal = sousTotal.toFixed(2);\r\n\r\n  // TPS\r\n  const tps = sousTotal * 0.05;\r\n  objetInfo.tps = tps.toFixed(2);\r\n\r\n  // TVQ \r\n  const tvq = sousTotal * 0.09975;\r\n  objetInfo.tvq = tvq.toFixed(2)\r\n  \r\n  // Total (on utilise les valeurs calculées et non pas les valeurs formatées)\r\n  objetInfo.total = (sousTotal + tps + tvq).toFixed(2);\r\n\r\n  return objetInfo;\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { Badge } from '@material-ui/core';\r\nimport SommairePanier from './SommairePanier';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nexport default function Entete(props) {\r\n  const [panier] = props.etatPanier;\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\"><Link to=\"/\">Logo</Link></div>\r\n      <ul className=\"navPrincipale\">\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/nos-produits\" >Produits</NavLink></li>\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/a-propos-de-nous\">À propos de nous</NavLink></li>\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/contactez-nous\">Contactez-nous</NavLink></li>\r\n      </ul>\r\n      <ul className=\"navUtilisateur\">\r\n        <li>\r\n          <Badge badgeContent={Object.values(panier).reduce((acc, article) => acc + article.qte, 0)} color=\"secondary\">\r\n            <ShoppingCartIcon />\r\n          </Badge>\r\n          <SommairePanier panier={panier} />\r\n        </li>\r\n        <li>Mon compte</li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}","import './Accueil.scss';\r\n\r\nexport default function Accueil() {\r\n  return (\r\n    <section className=\"Accueil\">\r\n      <h2>Bienvenue dans notre magasin</h2>\r\n      <p>Patati et patata</p>\r\n    </section>\r\n  );\r\n}","import './Contact.scss';\r\n\r\nexport default function Contact() {\r\n  return (\r\n    <div className=\"Contact\">\r\n      <h2>Nous Contacter</h2>\r\n      <p>Page en construction</p>\r\n    </div>\r\n  );\r\n}","import './Apropos.scss';\r\n\r\nexport default function Apropos() {\r\n  return (\r\n    <div className=\"Apropos\">\r\n      <h2>À propos de nous</h2>\r\n      <p>A venir...</p>\r\n    </div>\r\n  );\r\n}","import { Badge } from '@material-ui/core';\r\nimport './BtnAjoutPanier.scss';\r\n\r\nexport default function BtnAjoutPanier({onClick, qte, texte, classeCss}) {\r\n  return (\r\n    <Badge badgeContent={qte} color=\"primary\">    \r\n      <button className={'BtnAjoutPanier ' + classeCss} onClick={onClick}>\r\n        {texte}\r\n      </button>\r\n    </Badge>\r\n  );\r\n}","import BtnAjoutPanier from './BtnAjoutPanier';\r\nimport './Produit.scss';\r\n\r\nexport default function Produit({id, nom, etatPanier, prix}) {\r\n  const [panier, setPanier] = etatPanier;\r\n  //console.log(\"Le panier d'achats : \", panier);\r\n\r\n  function ajouterAuPanier() {\r\n    const article = panier[id];\r\n    if(article) {\r\n      article.qte++; \r\n    }\r\n    else {\r\n      panier[id] = {prix: prix, qte: 1};\r\n    }\r\n    // Tant qu'on a pas fait appel à setPanier, React ne sait pas que l'état du panier est différent\r\n    \r\n    // let cloneDuPanier = {...panier};\r\n    // let autreCloneDuPanier = JSON.parse(JSON.stringify(panier));\r\n    // let encoreUnAutreClone = Object.assign({}, panier);\r\n\r\n    setPanier({...panier});\r\n  }\r\n\r\n  let qteArticlePanier = 0;\r\n  let texteBtnAjout = \"Ajouter au panier\";\r\n  let classeCss = \"\";\r\n  //let btnCouleurAjout = \"\";\r\n  if(panier[id]) {\r\n    qteArticlePanier = panier[id].qte;\r\n    texteBtnAjout = \"Augmenter la quantité\";\r\n    classeCss = \"rouge\";\r\n    //btnCouleurAjout = \"#900\";\r\n  }\r\n\r\n  return (\r\n    <li className=\"Produit\">\r\n      <img src={'images-produits/' + id + '.webp'} alt={nom}/>\r\n      <div className=\"info\">\r\n        <p className=\"nom\">{nom}</p>\r\n        <p className=\"prix\">{prix} $CA</p>\r\n        <span></span>\r\n      </div>\r\n      <BtnAjoutPanier onClick={ajouterAuPanier} qte={qteArticlePanier} texte={texteBtnAjout} classeCss={classeCss} />\r\n    </li>\r\n  );\r\n}","import './ListeProduits.scss';\r\nimport Produit from './Produit';\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {  \r\n  return (\r\n    <div className=\"ListeProduits\">\r\n      <h2>Produits disponibles</h2>\r\n      <ul className=\"ul-produits\">\r\n        {\r\n          tabProduits.map(unProd => <Produit etatPanier={props.etatPanier} key={unProd.id} nom={unProd.nom} prix={unProd.prix} id={unProd.id} />)\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import './PiedDePage.scss';\r\n\r\n// Composant PiedDePage\r\nexport default function PiedDePage(props) {\r\n  const annee = (new Date()).getFullYear();\r\n\r\n  return (\r\n    <footer className=\"PiedDePage\">\r\n      <p>&copy;{annee} - TIM - Tous droits réservés</p>\r\n    </footer>\r\n  );\r\n}","import { useEffect, useState } from 'react';\nimport './ConteneurGlobal.scss';\nimport Entete from './Entete';\nimport Accueil from './Accueil';\nimport Contact from './Contact';\nimport Apropos from './Apropos';\nimport ListeProduits from './ListeProduits';\nimport PiedDePage from './PiedDePage';\nimport { Switch, Route } from 'react-router-dom';\n\nexport default function ConteneurGlobal() {\n  // const [compteur, setCompteur] = useState(0);\n  \n  // Utiliser la gestion de l'état avec \"useState\"\n  // Utiliser \"Lazy Initialization\"\n  const etatPanier = useState(\n    () => window.localStorage.getItem('panier-4pa') ? JSON.parse(window.localStorage.getItem('panier-4pa')) : {}\n  );\n  const [panier] = etatPanier;\n\n  // Sauvegarder le panier dans localStorage à chaque fois que l'état du panier est muté.\n  // Utiliser le 'HOOK' useEffect()\n  // Voir la docu : https://reactjs.org/docs/hooks-intro.html\n  useEffect(\n    () => window.localStorage.setItem('panier-4pa', JSON.stringify(panier))\n    , [panier] \n    // Tableau des dépendances : \n        // 1) si cet argument est absent (pas de tableau) : DANGER : l'effet est exécuté chaque fois que le composant est raffraîchi\n        // 2) Si cet argument est un tableau vide ([]) : SAFE : l'effet est exécuté une seule fois, EXACTEMENT APRÈS que le composant a été affiché par React\n        // 3) Si ce tableau contient des variables : l'effet est exécuté à toutes les fois que l'une ou l'autre des variables du tableau est modifiée\n  );\n\n  return (\n    <div className=\"ConteneurGlobal\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <Accueil/>\n          </Route>\n          <Route path=\"/nos-produits\">\n            {/* <button onClick={() => setCompteur(compteur + 1)}>Cliquez pour augmenter le compteur ({compteur})</button> */}\n            <ListeProduits etatPanier={etatPanier} />\n          </Route>\n          <Route path=\"/a-propos-de-nous\">\n            <Apropos/>\n          </Route>\n          <Route path=\"/contactez-nous\">\n            <Contact/>\n          </Route>\n        </Switch>\n        \n      </section>\n      <PiedDePage />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport ConteneurGlobal from './ConteneurGlobal';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nconst baseName = (window.location.hostname.search(/github\\.io/i)!==-1) ? \"/panier-achats-iwra\" : \"\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={baseName}>\n      <ConteneurGlobal />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('appli')\n);\n"],"sourceRoot":""}