{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Accueil.jsx","Contact.jsx","Apropos.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","PiedDePage.jsx","ConteneurGlobal.jsx","index.jsx"],"names":["SommairePanier","props","console","log","panier","info","objetPanier","objetInfo","articlesDiff","nbArticlesTotal","sousTotal","tps","tvq","total","articles","Object","values","length","reduce","acc","article","qte","prix","toFixed","calculerInfoPanier","className","Entete","etatPanier","to","activeClassName","Badge","badgeContent","color","Accueil","Contact","Apropos","BtnAjoutPanier","classeCss","onClick","texte","Produit","setPanier","qteArticlePanier","texteBtnAjout","id","src","alt","nom","ListeProduits","tabProduits","map","unProd","PiedDePage","annee","Date","getFullYear","ConteneurGlobal","window","localStorage","getItem","JSON","parse","useState","setItem","stringify","path","exact","baseName","location","hostname","search","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.de3fc940.chunk.js","sourcesContent":["import \"./SommairePanier.scss\";\r\n\r\nexport default function SommairePanier(props) {\r\n  console.log(\"Le panier  dans SommairePanier : \", props.panier);\r\n  const info = calculerInfoPanier(props.panier);\r\n  return (\r\n    <div className=\"SommairePanier\">\r\n      <span>Articles différents : {info.articlesDiff}</span>\r\n      <span>Nombre articles total : {info.nbArticlesTotal}</span>\r\n      <span>Sous-total : {info.sousTotal}</span>\r\n      <span>TPS : {info.tps}</span>\r\n      <span>TVQ : {info.tvq}</span>\r\n      <span>Total : {info.total}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\n/**\r\n * Calcule les valeurs nécéssaire à l'affichage du sommaire du panier\r\n * \r\n * @param {object} objetPanier Objet contenant le détail du panier \r\n * \r\n * @returns {object} Objet contenant toutes les valeurs requises\r\n */\r\nfunction calculerInfoPanier(objetPanier) {\r\n  // Objet contenant les valeurs à calculer\r\n  const objetInfo = {\r\n    articlesDiff: 0,\r\n    nbArticlesTotal: 0,\r\n    sousTotal: 0,\r\n    tps: 0,\r\n    tvq: 0,\r\n    total: 0\r\n  }\r\n\r\n  // Extraire le tableau des valeurs de l'objet contenant le panier\r\n  const articles = Object.values(objetPanier);\r\n  //console.log(\"Le tableau des articles dans le panier : \", articles);\r\n\r\n  // Nombre d'articles différents\r\n  objetInfo.articlesDiff = articles.length;\r\n\r\n  // Nombre d'articles total\r\n  objetInfo.nbArticlesTotal = articles.reduce((acc, article) => acc + article.qte, 0);\r\n\r\n  // Sous-total du panier (corriger au retour de la semaine de relâche pour ne pas arrondir avant le calcul des taxes)\r\n  objetInfo.sousTotal = articles.reduce((acc, article) => acc + (article.qte*article.prix), 0).toFixed(2);\r\n\r\n  // TPS\r\n  objetInfo.tps = (objetInfo.sousTotal * 0.05).toFixed(2);\r\n\r\n  // TVQ \r\n  objetInfo.tvq = (objetInfo.sousTotal * 0.09975).toFixed(2);\r\n\r\n  // Total (à corriger une fois que nous aurons gardé les nombres sans toFixed())\r\n  objetInfo.total = ((objetInfo.sousTotal - 0) + (objetInfo.tps - 0) + (objetInfo.tvq - 0)).toFixed(2);\r\n\r\n  return objetInfo;\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { Badge } from '@material-ui/core';\r\nimport SommairePanier from './SommairePanier';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nexport default function Entete(props) {\r\n  const [panier] = props.etatPanier;\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\"><Link to=\"/\">Logo</Link></div>\r\n      <ul className=\"navPrincipale\">\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/nos-produits\" >Produits</NavLink></li>\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/a-propos-de-nous\">À propos de nous</NavLink></li>\r\n        <li><NavLink activeClassName=\"urlActive\" to=\"/contactez-nous\">Contactez-nous</NavLink></li>\r\n      </ul>\r\n      <ul className=\"navUtilisateur\">\r\n        <li>\r\n          <Badge badgeContent={Object.values(panier).reduce((acc, article) => acc + article.qte, 0)} color=\"secondary\">\r\n            <ShoppingCartIcon />\r\n          </Badge>\r\n          <SommairePanier panier={panier} />\r\n        </li>\r\n        <li>Mon compte</li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}","import './Accueil.scss';\r\n\r\nexport default function Accueil() {\r\n  return (\r\n    <section className=\"Accueil\">\r\n      <h2>Bienvenue dans notre magasin</h2>\r\n      <p>Patati et patata</p>\r\n    </section>\r\n  );\r\n}","import './Contact.scss';\r\n\r\nexport default function Contact() {\r\n  return (\r\n    <div className=\"Contact\">\r\n      <h2>Nous Contacter</h2>\r\n      <p>Page en construction</p>\r\n    </div>\r\n  );\r\n}","import './Apropos.scss';\r\n\r\nexport default function Apropos() {\r\n  return (\r\n    <div className=\"Apropos\">\r\n      <h2>À propos de nous</h2>\r\n      <p>A venir...</p>\r\n    </div>\r\n  );\r\n}","import { Badge } from '@material-ui/core';\r\nimport './BtnAjoutPanier.scss';\r\n\r\nexport default function BtnAjoutPanier(props) {\r\n  return (\r\n    <Badge badgeContent={props.qte} color=\"primary\">    \r\n      <button className={'BtnAjoutPanier ' + props.classeCss} onClick={props.onClick}>\r\n        {props.texte}\r\n      </button>\r\n    </Badge>\r\n  );\r\n}","import BtnAjoutPanier from './BtnAjoutPanier';\r\nimport './Produit.scss';\r\n\r\nexport default function Produit(props) {\r\n  const [panier, setPanier] = props.etatPanier;\r\n  //console.log(\"Le panier d'achats : \", panier);\r\n\r\n  function ajouterAuPanier() {\r\n    const article = panier[props.id];\r\n    if(article) {\r\n      article.qte++; \r\n    }\r\n    else {\r\n      panier[props.id] = {prix: props.prix, qte: 1};\r\n    }\r\n    console.log(\"Le panier après Ajouter Au Panier : \", panier);\r\n    // Tant qu'on a pas fait appel à setPanier, React ne sait pas que l'état du panier est différent\r\n    \r\n    // let cloneDuPanier = {...panier};\r\n    // let autreCloneDuPanier = JSON.parse(JSON.stringify(panier));\r\n    // let encoreUnAutreClone = Object.assign({}, panier);\r\n\r\n    setPanier({...panier});\r\n  }\r\n\r\n  let qteArticlePanier = 0;\r\n  let texteBtnAjout = \"Ajouter au panier\";\r\n  let classeCss = \"\";\r\n  //let btnCouleurAjout = \"\";\r\n  if(panier[props.id]) {\r\n    qteArticlePanier = panier[props.id].qte;\r\n    texteBtnAjout = \"Augmenter la quantité\";\r\n    classeCss = \"rouge\";\r\n    //btnCouleurAjout = \"#900\";\r\n  }\r\n\r\n  return (\r\n    <li className=\"Produit\">\r\n      <img src={'images-produits/' + props.id + '.webp'} alt={props.nom}/>\r\n      <div className=\"info\">\r\n        <p className=\"nom\">{props.nom}</p>\r\n        <p className=\"prix\">{props.prix} $CA</p>\r\n        <span></span>\r\n      </div>\r\n      <BtnAjoutPanier onClick={ajouterAuPanier} qte={qteArticlePanier} texte={texteBtnAjout} classeCss={classeCss} />\r\n    </li>\r\n  );\r\n}","import './ListeProduits.scss';\r\nimport Produit from './Produit';\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {  \r\n  return (\r\n    <div className=\"ListeProduits\">\r\n      <h2>Produits disponibles</h2>\r\n      <ul className=\"ul-produits\">\r\n        {\r\n          tabProduits.map(unProd => <Produit etatPanier={props.etatPanier} key={unProd.id} nom={unProd.nom} prix={unProd.prix} id={unProd.id} />)\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import './PiedDePage.scss';\r\n\r\n// Composant PiedDePage\r\nexport default function PiedDePage(props) {\r\n  const annee = (new Date()).getFullYear();\r\n\r\n  return (\r\n    <footer className=\"PiedDePage\">\r\n      <p>&copy;{annee} - TIM - Tous droits réservés</p>\r\n    </footer>\r\n  );\r\n}","import { useState } from 'react';\nimport './ConteneurGlobal.scss';\nimport Entete from './Entete';\nimport Accueil from './Accueil';\nimport Contact from './Contact';\nimport Apropos from './Apropos';\nimport ListeProduits from './ListeProduits';\nimport PiedDePage from './PiedDePage';\nimport { Switch, Route } from 'react-router-dom';\n\nexport default function ConteneurGlobal() {\n  // Vérifier s'il y a qqchose dans localStorage avec la clé 'panier-4pa'. \n  let panier = {};\n  if(window.localStorage.getItem('panier-4pa')) {\n    panier = JSON.parse(window.localStorage.getItem('panier-4pa'));\n  }\n  \n  // Utiliser la gestion de l'état avec \"useState\"\n  // Utiliser \"Lazy Initialization\" (prochain cours)\n  const etatPanier = useState(panier);\n\n  // Sauvegarder le panier dans localStorage à chaque fois que l'état du panier est muté.\n  // Utiliser useEffect() (prochain cours)\n  window.localStorage.setItem('panier-4pa', JSON.stringify(etatPanier[0]));\n\n  return (\n    <div className=\"ConteneurGlobal\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <Accueil/>\n          </Route>\n          <Route path=\"/nos-produits\">\n            <ListeProduits etatPanier={etatPanier} />\n          </Route>\n          <Route path=\"/a-propos-de-nous\">\n            <Apropos/>\n          </Route>\n          <Route path=\"/contactez-nous\">\n            <Contact/>\n          </Route>\n        </Switch>\n        \n      </section>\n      <PiedDePage />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport ConteneurGlobal from './ConteneurGlobal';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nconst baseName = (window.location.hostname.search(/github\\.io/i)!==-1) ? \"/panier-achats-iwra\" : \"\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={baseName}>\n      <ConteneurGlobal />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('appli')\n);\n"],"sourceRoot":""}